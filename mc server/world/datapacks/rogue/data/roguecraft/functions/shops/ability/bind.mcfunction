#no error
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} unless score @s ability_1 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.5 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} unless score @s ability_2 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} unless score @s ability_3 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} unless score @s ability_4 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} unless score @s ability_1 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} unless score @s ability_2 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} unless score @s ability_3 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} unless score @s ability_4 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} unless score @s ability_1 matches $(id) run tellraw @s [{"translate":"roguecraft.chat_messages.ability_equip_1","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_2","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a1","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"green"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} unless score @s ability_2 matches $(id) run tellraw @s [{"translate":"roguecraft.chat_messages.ability_equip_1","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_2","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a2","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"green"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} unless score @s ability_3 matches $(id) run tellraw @s [{"translate":"roguecraft.chat_messages.ability_equip_1","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_2","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a3","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"green"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} unless score @s ability_4 matches $(id) run tellraw @s [{"translate":"roguecraft.chat_messages.ability_equip_1","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_2","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a4","italic":true,"color":"green"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"green"}]

#already bound error
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} if score @s ability_1 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} if score @s ability_2 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} if score @s ability_3 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} if score @s ability_4 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} if score @s ability_1 matches $(id) run tellraw @s ["",{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a1","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"red"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} if score @s ability_2 matches $(id) run tellraw @s ["",{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a2","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"red"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} if score @s ability_3 matches $(id) run tellraw @s ["",{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a3","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"red"}]
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} if score @s ability_4 matches $(id) run tellraw @s ["",{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_equip_a4","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability","italic":true,"color":"red"}]

#not unlocked error
$execute if score @s $(upgrade) matches 0 run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute if score @s $(upgrade) matches 0 run tellraw @s ["",{"translate":"roguecraft.chat_messages.ability_error_item_1","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.ability.name.$(upgrade)","italic":true,"color":"red"},{"text":" "},{"translate":"roguecraft.chat_messages.ability_error_item_2","italic":true,"color":"red"}]

#set scoreboard
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}} run scoreboard players set @s ability_1 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}} run scoreboard players set @s ability_2 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}} run scoreboard players set @s ability_3 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}} run scoreboard players set @s ability_4 $(id)

#change hand item
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:2}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick{display:{Name:' "$(name)" '},Enchantments:[{id:"minecraft:channeling",lvl:1}],CustomModelData:2}
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:3}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick{display:{Name:' "$(name)" '},Enchantments:[{id:"minecraft:channeling",lvl:1}],CustomModelData:3}
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:4}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick{display:{Name:' "$(name)" '},Enchantments:[{id:"minecraft:channeling",lvl:1}],CustomModelData:4}
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",tag:{CustomModelData:5}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick{display:{Name:' "$(name)" '},Enchantments:[{id:"minecraft:channeling",lvl:1}],CustomModelData:5}